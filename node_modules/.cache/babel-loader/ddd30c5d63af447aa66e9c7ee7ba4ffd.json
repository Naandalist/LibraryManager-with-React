{"ast":null,"code":"import _defineProperty from \"/home/naandalist/Documents/arkQuick/frontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/naandalist/Documents/arkQuick/frontEnd/src/Screens/BookDetail.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport { connect } from 'react-redux';\nimport { updateBook } from '../Public/Redux/Actions/books';\nimport M from \"materialize-css\";\nimport Axios from 'axios';\nimport EditBook from '../Components/EditBook';\nimport DelBook from '../Components/DelBook';\nimport pointingToLeft from \"../Asset/Icons/pointing-to-left.svg\";\nimport editIcon from \"../Asset/Icons/edit-icon.svg\";\nimport delIcon from \"../Asset/Icons/delete-icon.svg\";\nimport './styles/BookDetail.css'; //import BookData from '../Asset/dataDumy/BookData';\n\nclass BookDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteButtonHandler = () => {\n      const idbook = this.props.match.params.idbook;\n      let url = \"http://localhost:7777/api/v1/books/book?id=\".concat(idbook);\n      Axios.delete(url).then(response => {\n        // console.log('response :', response)\n        // console.log('RESPONSE STATUS: ', response)\n        window.location.href = '/';\n      }).catch(error => {\n        console.log('error: ', error);\n      });\n    };\n\n    this.OnChangeHandler = event => {\n      console.log('event target value: ', event.target.value);\n      console.log('event target name: ', [event.target.name]);\n      this.setState({\n        detail: _objectSpread({}, this.state.detail, {\n          [event.target.name]: event.target.value\n        })\n      });\n      console.log('state detail title: ', this.state.detail.title);\n    };\n\n    this.editButtonHandler = event => {\n      console.log('button edit is working');\n      event.preventDefault(); //console.log('apakah title sudah berubah: ', this.state.detail.title)\n\n      const editedBook = {\n        title: this.state.detail.title,\n        url_image: this.state.detail.url_image,\n        book_descript: this.state.detail.book_descript\n      };\n      const idbook = this.props.match.params.idbook;\n\n      const updateBook = async (editedBook, idbook) => {\n        await this.props.dispatch(updateBook(editedBook, idbook)).then(() => {});\n      };\n\n      updateBook(editedBook);\n    };\n\n    this.state = {\n      books: [],\n      id: 0,\n      detail: {\n        id: '',\n        title: '',\n        author: '',\n        year: '',\n        genre: '',\n        descript: '',\n        status: '',\n        url_image: '',\n        updated_at: '',\n        book_descript: ''\n      }\n    };\n  }\n\n  async componentDidMount() {\n    M.AutoInit();\n    console.log('telah did mount');\n    console.log('DISINI this props match params', this.props.match.params.idbook);\n    this.setState({}); // get slected data from complreted object **********************************************************************************\n\n    if (this.props.location.state) {\n      const idbook = this.props.match.params.idbook;\n      const books = this.props.location.state.books;\n      this.setState({\n        id: idbook,\n        detail: books.filter(book => idbook === String(book.id))[0]\n      });\n    }\n  }\n\n  render() {\n    //console.log('temporBook: ', this.state.temporBook)\n    // console.log('DISINI nilai state detail URL BROO: ', this.state.detail.url_image)\n    console.log('DISINI nilai state detail DOANG: ', this.state.detail);\n    console.log('DISINI nilai state books: ', this.props.location.state.books);\n    let btnStatus = '';\n    if (this.state.detail.status.toLowerCase() !== 'available') btnStatus = 'disabled'; //handle date\n\n    let arrDate = this.state.detail.updated_at.slice(0, 10).split('-').reverse();\n\n    switch (Number(arrDate[1])) {\n      case 1:\n        arrDate[1] = 'January';\n        break;\n\n      case 2:\n        arrDate[1] = 'February';\n        break;\n\n      case 3:\n        arrDate[1] = 'March';\n        break;\n\n      case 4:\n        arrDate[1] = 'April';\n        break;\n\n      case 5:\n        arrDate[1] = 'May';\n        break;\n\n      case 6:\n        arrDate[1] = 'June';\n        break;\n\n      case 7:\n        arrDate[1] = 'July';\n        break;\n\n      case 8:\n        arrDate[1] = 'August';\n        break;\n\n      case 9:\n        arrDate[1] = 'September';\n        break;\n\n      case 10:\n        arrDate[1] = 'Oktober';\n        break;\n\n      case 11:\n        arrDate[1] = 'November';\n        break;\n\n      case 12:\n        arrDate[1] = 'Desember';\n        break;\n\n      default:\n        arrDate[1] = 'Month undefined';\n        break;\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        zIndex: 9,\n        position: 'fixed',\n        margin: '0 auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"http://localhost:3000/\",\n      className: \"waves-effect waves-light\",\n      style: {\n        marginLeft: '3rem',\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: pointingToLeft,\n      style: {\n        width: '40px'\n      },\n      alt: \"arrow pointing left icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    })), React.createElement(EditBook, {\n      url_image: this.state.detail.url_image,\n      title: this.state.detail.title,\n      book_descript: this.state.detail.book_descript,\n      onChange: this.OnChangeHandler,\n      onSubmit: this.editButtonHandler.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"#modal2\",\n      className: \"waves-effect waves-light modal-trigger\",\n      style: {\n        marginLeft: '65rem',\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: editIcon,\n      style: {\n        width: '90px'\n      },\n      alt: \"this use to edit system\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    })), React.createElement(DelBook, {\n      onClick: this.deleteButtonHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"#modal3\",\n      className: \"waves-effect waves-light modal-trigger\",\n      style: {\n        marginLeft: '1rem',\n        marginTop: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: delIcon,\n      style: {\n        width: '90px'\n      },\n      alt: \"this use to edit system\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"parallax-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"parallax\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.detail.url_image,\n      alt: \"gambar dari paralax satu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"section white allbody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"new badge\",\n      \"data-badge-caption\": \"\",\n      style: {\n        color: 'black',\n        fontWeight: 'bold',\n        backgroundColor: '#f1c40f',\n        marginRight: '85%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, this.state.detail.genre), React.createElement(\"h2\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, this.state.detail.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, arrDate.join(' '))), React.createElement(\"div\", {\n      className: \"col s4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"right-align\",\n      style: {\n        color: '#f39c12',\n        fontWeight: 'bold',\n        marginTop: '3rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.state.detail.status, \" \"))), React.createElement(\"p\", {\n      className: \"grey-text text-darken-3 lighten-3 \",\n      style: {\n        textAlign: 'justify'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, this.state.detail.descript, \" \"), React.createElement(\"p\", {\n      className: \"grey-text text-darken-3 lighten-3 \",\n      style: {\n        textAlign: 'justify'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, this.state.detail.book_descript, \" \")), React.createElement(\"div\", {\n      className: \"col s4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"z-depth-3\",\n      src: this.state.detail.url_image,\n      style: {\n        width: '200px',\n        borderRadius: '7px',\n        marginLeft: '78%',\n        marginTop: '-30%'\n      },\n      alt: \"badge book icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn \".concat(btnStatus, \" waves-effect waves-light z-depth-2\"),\n      type: \"submit\",\n      style: {\n        marginLeft: '100%',\n        backgroundColor: '#f1c40f',\n        color: '#2c3e50',\n        marginTop: '130%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Borrow\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    updateBook: state.updateBook\n  };\n};\n\nexport default connect(mapStateToProps)(BookDetail);","map":{"version":3,"sources":["/home/naandalist/Documents/arkQuick/frontEnd/src/Screens/BookDetail.jsx"],"names":["React","Component","connect","updateBook","M","Axios","EditBook","DelBook","BookDetail","constructor","props","deleteButtonHandler","idbook","match","params","url","delete","then","response","window","location","href","catch","error","console","log","OnChangeHandler","event","target","value","name","setState","detail","state","title","editButtonHandler","preventDefault","editedBook","url_image","book_descript","dispatch","books","id","author","year","genre","descript","status","updated_at","componentDidMount","AutoInit","filter","book","String","render","btnStatus","toLowerCase","arrDate","slice","split","reverse","Number","zIndex","position","margin","marginLeft","marginTop","pointingToLeft","width","bind","editIcon","delIcon","color","fontWeight","backgroundColor","marginRight","join","textAlign","borderRadius","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport { connect } from 'react-redux';\nimport {updateBook} from '../Public/Redux/Actions/books' \n\nimport M from \"materialize-css\";\nimport Axios from 'axios'\nimport EditBook from '../Components/EditBook'\nimport DelBook from '../Components/DelBook'\nimport pointingToLeft from '../Asset/Icons/pointing-to-left.svg'\nimport editIcon from '../Asset/Icons/edit-icon.svg';\nimport delIcon from '../Asset/Icons/delete-icon.svg';\n\nimport './styles/BookDetail.css'\n//import BookData from '../Asset/dataDumy/BookData';\n\nclass BookDetail extends Component{\n\n    constructor(props){\n      \n      super(props);\n      this.state={\n        books: [],\n        id:0,\n        detail:{\n          id:'',\n          title:'',\n          author:'',\n          year:'',\n          genre:'',\n          descript:'',\n          status:'',\n          url_image:'',\n          updated_at:'',\n          book_descript:'',\n        }\n      }\n    }\n   \n   async componentDidMount() {\n  M.AutoInit();\n  \n  console.log('telah did mount')\n  console.log('DISINI this props match params',this.props.match.params.idbook)\n this.setState({\n\n })\n  \n// get slected data from complreted object **********************************************************************************\n    if (this.props.location.state){\n      const {idbook} = this.props.match.params;\n      const {books} = this.props.location.state;\n\n      this.setState({\n          id: idbook,\n          detail: books.filter(book => idbook === String(book.id))[0],\n        });\n      }\n    }\n\n    deleteButtonHandler = () => {\n      const {idbook} = this.props.match.params;\n      let url = `http://localhost:7777/api/v1/books/book?id=${idbook}`\n      Axios.delete(url)\n        .then(response => {\n          // console.log('response :', response)\n          // console.log('RESPONSE STATUS: ', response)\n          window.location.href = '/'\n        })\n        .catch(error => {\n          console.log('error: ', error)\n        })\n    }\n\n    OnChangeHandler = event => {\n      console.log('event target value: ', event.target.value)\n      console.log('event target name: ', [event.target.name])\n\n      this.setState({\n        detail: {\n            ...this.state.detail,\n            [event.target.name]: event.target.value\n        }\n    });\n      console.log('state detail title: ', this.state.detail.title)\n    };\n\n    editButtonHandler = (event) => {\n      console.log('button edit is working')\n      event.preventDefault();\n\n      //console.log('apakah title sudah berubah: ', this.state.detail.title)\n      const editedBook = {\n        title: this.state.detail.title,\n        url_image: this.state.detail.url_image,\n        book_descript: this.state.detail.book_descript,\n        \n      }\n      const {idbook} = this.props.match.params;\n      const updateBook= async (editedBook, idbook) => {\n        await this.props.dispatch(updateBook(editedBook, idbook))\n          .then (() =>{})\n      }\n      updateBook(editedBook)\n      \n    }\n    \n    \n\n    render(){\n\n      //console.log('temporBook: ', this.state.temporBook)\n      // console.log('DISINI nilai state detail URL BROO: ', this.state.detail.url_image)\n      console.log('DISINI nilai state detail DOANG: ', this.state.detail)\n      console.log('DISINI nilai state books: ',this.props.location.state.books)\n     \n      let btnStatus=''\n      if (this.state.detail.status.toLowerCase() !== 'available') btnStatus ='disabled';\n  \n      //handle date\n      let arrDate = this.state.detail.updated_at.slice(0, 10).split('-').reverse()\n        switch (Number(arrDate[1])){\n          case 1:\n            arrDate[1] = 'January'; break;\n          case 2:\n            arrDate[1] = 'February'; break;\n          case 3:\n            arrDate[1] = 'March'; break;\n          case 4:\n            arrDate[1] = 'April'; break;\n          case 5:\n            arrDate[1] = 'May'; break;\n          case 6:\n            arrDate[1] = 'June'; break;\n          case 7:\n            arrDate[1] = 'July'; break;\n          case 8:\n            arrDate[1] = 'August'; break;\n          case 9:\n            arrDate[1] = 'September'; break;\n          case 10:\n            arrDate[1] = 'Oktober'; break;\n          case 11:\n          arrDate[1] = 'November'; break;\n          case 12:\n            arrDate[1] = 'Desember'; break;\n          default:\n            arrDate[1]= 'Month undefined'; break;\n        }\n\n  return(\n            <>\n        <div>\n            <div style={{\n                zIndex:9,\n                position:'fixed',\n                margin:'0 auto',\n            }} >\n            <div className=\"row\">\n          \n          <a href=\"http://localhost:3000/\" className=\"waves-effect waves-light\" style={{\n            marginLeft:'3rem',\n            marginTop:'30px'\n          }} >\n             <img  src={pointingToLeft} style={{width: '40px'}} alt=\"arrow pointing left icon\"/></a>\n         \n  <EditBook \n     url_image={this.state.detail.url_image}\n     title={this.state.detail.title}\n     book_descript={this.state.detail.book_descript}\n\n    onChange={this.OnChangeHandler}\n    onSubmit={this.editButtonHandler.bind(this)}    \n  />\n\n         \n          <a href=\"#modal2\" className=\"waves-effect waves-light modal-trigger\" style={{\n            marginLeft:'65rem',\n            marginTop:'30px'\n          }} >\n             <img   src={editIcon} style={{\n               width: '90px',\n               }} alt=\"this use to edit system\"/></a>\n          \n  <DelBook\n  onClick={this.deleteButtonHandler}\n  />\n          <a href=\"#modal3\" className=\"waves-effect waves-light modal-trigger\" style={{\n            marginLeft:'1rem',\n            marginTop:'30px',\n          }} >\n             <img  src={delIcon} style={{width: '90px'}} alt=\"this use to edit system\"/></a>\n          \n\n        </div>\n            </div>\n\n        <div className=\"parallax-container\">\n          <div className=\"parallax\"><img src={this.state.detail.url_image} alt=\"gambar dari paralax satu\"/></div>\n        </div>\n        <div className=\"section white allbody\">\n          <div className=\"row container\">\n                      \n              <div className=\"col s8\">\n              \n              <div className=\"row\">\n              <div className=\"col s8\">\n                  <span className=\"new badge\" data-badge-caption=\"\" style={{\n                    color:'black',\n                    fontWeight:'bold',\n                    backgroundColor:'#f1c40f',\n                    marginRight:'85%'\n              }} >{this.state.detail.genre}</span>\n\n                <h2 className=\"header\">{this.state.detail.title}</h2>\n                {\n                  \n                }\n                <p>{arrDate.join(' ')}</p>\n              </div>\n              <div className=\"col s4\">\n              <h5 className=\"right-align\" style={{\n                color:'#f39c12',\n                fontWeight:'bold',\n                marginTop:'3rem',\n              }} >{this.state.detail.status} </h5>\n              </div>\n              </div>\n              \n           \n\n              <p className=\"grey-text text-darken-3 lighten-3 \"style={{\n                textAlign:'justify'\n              }} >{this.state.detail.descript} </p>\n              <p className=\"grey-text text-darken-3 lighten-3 \"style={{\n                textAlign:'justify'\n              }}>{this.state.detail.book_descript} </p>\n             \n              \n              </div>\n              <div className=\"col s4\">\n              \n              <img className=\"z-depth-3\" src={this.state.detail.url_image} style={{\n                width: '200px',\n                borderRadius:'7px',\n                marginLeft:'78%',\n                marginTop:'-30%',\n              }} alt=\"badge book icon\"/>\n\n              <button className={`btn ${btnStatus} waves-effect waves-light z-depth-2`}\n              type=\"submit\" style={{\n              marginLeft:'100%',\n              backgroundColor:'#f1c40f',\n              color:'#2c3e50',\n              marginTop:'130%'\n              }} >Borrow\n              </button>\n              </div>           \n          </div>\n        </div>\n      </div>\n          \n            </>\n        );\n    }\n}\nconst mapStateToProps=(state) => {\n  return {\n    updateBook: state.updateBook,\n  }\n}\n\nexport default connect (mapStateToProps) (BookDetail);"]},"metadata":{},"sourceType":"module"}